# v4 server configuration
PORT=8080
AUDIT_DB=admin

# Authentication (JWT)
JWT_REQUIRED=true
JWT_SECRET=

# HMAC signature for write operations (X-Signature = HMAC-SHA256 hex of raw JSON body)
HMAC_SECRET=

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120

# IP allowlist (comma separated; supports CIDR). Empty = no filter
IP_ALLOWLIST=

# CORS (comma separated). Empty = *
CORS_ORIGINS=

# Operational logs
OPLOG_ENABLE=true
OPLOG_DIR=./logs

# Change window (optional). Example:
# CHANGE_ALLOW_WINDOW=Mon-Fri 07:00-19:00 America/Mexico_City, Sat 10:00-14:00 America/Mexico_City
CHANGE_ALLOW_WINDOW=
CHANGE_FREEZE_MESSAGE=Changes blocked by change window
CHANGE_BYPASS_TOKEN=

# Auto docs capture (dev only). 1 to enable express-oas-generator runtime
AUTO_DOCS=0

# Optional: restrict allowed MongoDB URIs for safety (regex)
ALLOW_TARGET_URI_REGEX=

# Artifactory integration (optional)
ARTIFACTORY_ENABLED=false
ARTIFACTORY_BASE_URL=
ARTIFACTORY_REPOSITORY=
ARTIFACTORY_PATH_TEMPLATE=changes/{changeId}/{action}-{timestamp}.json
ARTIFACTORY_USERNAME=
ARTIFACTORY_PASSWORD=
ARTIFACTORY_TOKEN=
ARTIFACTORY_TIMEOUT_MS=15000

# Jira integration (optional)
JIRA_ENABLED=false
JIRA_BASE_URL=
JIRA_EMAIL=
JIRA_API_TOKEN=
JIRA_PROJECT_KEY=
JIRA_ISSUE_TYPE=Task
JIRA_DEFAULT_LABELS=
JIRA_TIMEOUT_MS=15000
